\hypertarget{classDataPlot}{
\section{DataPlot Class Reference}
\label{classDataPlot}\index{DataPlot@{DataPlot}}
}


The widget class that graphs the data.  




{\ttfamily \#include $<$data\_\-plot.h$>$}



Collaboration diagram for DataPlot:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=400pt]{classDataPlot__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Slots}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classDataPlot_a926020e0c49d78d3d5d282848368651e}{setTimerInterval} (double interval)
\item 
void \hyperlink{classDataPlot_a642185fdad89b1b075bc00670242fa0b}{setRange} (double range)
\item 
void \hyperlink{classDataPlot_ad101ac80563ee10322788946d791ea09}{setMinRange} (double range)
\item 
void \hyperlink{classDataPlot_a36fe7e25f67a168d4f7dd2eaa2627003}{newReading} (\hyperlink{classMoteReading}{MoteReading} r)
\item 
void \hyperlink{classDataPlot_a78920a414abdfa954fd34c662f39d09e}{disconnected} ()
\item 
void \hyperlink{classDataPlot_a74bc8f9c94caa90e092e1b3235c2c6ec}{detachMgx} ()
\item 
void \hyperlink{classDataPlot_a309a9e4dc84f977bc54f30d0e2cf2350}{detachMgy} ()
\item 
void \hyperlink{classDataPlot_a5dbafea843c682d18d77e1903e3c372b}{detachAccx} ()
\item 
void \hyperlink{classDataPlot_ab9a27391ec25592f1126f672716ab161}{detachAccy} ()
\item 
void \hyperlink{classDataPlot_a63ee85d95a1ce9b0ac889ea16c4827c7}{detachIr} ()
\item 
void \hyperlink{classDataPlot_a21893fd1f06b11e7e3286fa74e8c618f}{detachTemp} ()
\item 
void \hyperlink{classDataPlot_ad350cafabb24a175222744f7c7b3e10e}{detachVl} ()
\item 
void \hyperlink{classDataPlot_a42a2f46b248f64482153739201fc7d2b}{detachMic} ()
\item 
void \hyperlink{classDataPlot_a5521e1760646dbcf90df949e20523803}{detach} (int item)
\item 
void \hyperlink{classDataPlot_a6409fa9685624b4a453529254e6d943f}{autoScale} ()
\item 
void \hyperlink{classDataPlot_abc77f48da64170d587eda09e5aaf008c}{reRange} ()
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classDataPlot_a1343acbd6095212532c4315d6e9f1711}{DataPlot} (QWidget $\ast$=NULL)
\begin{DoxyCompactList}\small\item\em Default constructor. \item\end{DoxyCompactList}\item 
void \hyperlink{classDataPlot_ab6af06dfac3585a7dc669ea333a0869d}{setId} (int i)
\item 
void \hyperlink{classDataPlot_aace03b9e68e11042c0fade588e2869a7}{setSource} (\hyperlink{classpacketHandler}{packetHandler} $\ast$p)
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classDataPlot_a41c9c4bc12d8d3e3abdf893c4fcfad7b}{timerEvent} (QTimerEvent $\ast$e)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
The widget class that graphs the data. \begin{DoxyAuthor}{Author}
Jharrod LaFon 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
Spring 2010 
\end{DoxyDate}
\begin{DoxyRemark}{Remarks}
This class is used to plot data on a moving canvas. The data are acquired from an instance of the packet handler class. 
\end{DoxyRemark}


Definition at line 34 of file data\_\-plot.h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classDataPlot_a1343acbd6095212532c4315d6e9f1711}{
\index{DataPlot@{DataPlot}!DataPlot@{DataPlot}}
\index{DataPlot@{DataPlot}!DataPlot@{DataPlot}}
\subsubsection[{DataPlot}]{\setlength{\rightskip}{0pt plus 5cm}DataPlot::DataPlot (QWidget $\ast$ {\em parent} = {\ttfamily NULL})}}
\label{classDataPlot_a1343acbd6095212532c4315d6e9f1711}


Default constructor. 

Constructor.

Initializes the Main Window 

\begin{Desc}
\item[\hyperlink{todo__todo000001}{Todo}]Change line thickness \end{Desc}




Definition at line 23 of file data\_\-plot.cpp.




\begin{DoxyCode}
23                                  :
24     QwtPlot(parent),
25     d_interval(0),
26     d_timerId(-1),
27     min(0),
28     max(10)
29 
30 
31 
32 {
33 
34     id = 0;
35     plotAccx = plotAccy = plotMgx = plotMgy = plotTemp = plotMic = plotVl = plotI
      r = true;
36     auto_scale = false;
37     filter = new dataFilter();
38 
39     for(int i = 0; i < 8; i++)
40         attached[i] = true;
41     // Disable polygon clipping
42     QwtPainter::setDeviceClipping(false);
43     running = false;
44     // We don't need the cache here
45     canvas()->setPaintAttribute(QwtPlotCanvas::PaintCached, false);
46     canvas()->setPaintAttribute(QwtPlotCanvas::PaintPacked, false);
47 
48 #if QT_VERSION >= 0x040000
49 #ifdef Q_WS_X11
50     /*
51        Qt::WA_PaintOnScreen is only supported for X11, but leads
52        to substantial bugs with Qt 4.2.x/Windows
53      */
54     canvas()->setAttribute(Qt::WA_PaintOnScreen, true);
55 #endif
56 #endif
57 
58     alignScales();
59     
60     //  Initialize data
61     for (int i = 0; i< PLOT_SIZE; i++)
62     {
63         d_x[i] = 0.5 * i;     // time axis
64         d_mgx[i] = 0;
65         d_fmgx[i] = 0;
66         d_mgy[i] = 0;
67         d_accx[i] = 0;
68         d_accy[i] = 0;
69         d_mic[i] = 0;
70         d_ir[i] = 0;
71         d_temp[i] = 0;
72     }
73 
74 
75     // Assign a title
76     setTitle(QString("Sensors for Node %1").arg(id));
77     insertLegend(new QwtLegend(), QwtPlot::BottomLegend);
78 
79     // Insert new curves
80     mgxPlot = new QwtPlotCurve("MGx");
81     mgxFilteredPlot = new QwtPlotCurve("Filtered MGx");
82     mgyPlot = new QwtPlotCurve("MGy");
83     AccyPlot = new QwtPlotCurve("ACCy");
84     AccxPlot = new QwtPlotCurve("ACCx");
85     tempPlot = new QwtPlotCurve("Temp");
86     irPlot = new QwtPlotCurve("IR");
87     micPlot = new QwtPlotCurve("MIC");
88     vlPlot = new QwtPlotCurve("VL");
89 
90     AccyPlot->attach(this);
91     AccxPlot->attach(this);
92     mgxPlot->attach(this);
93     mgxFilteredPlot->attach(this);
94     mgyPlot->attach(this);
95     tempPlot->attach(this);
96     irPlot->attach(this);
97     micPlot->attach(this);
98     vlPlot->attach(this);
99 
100     const QColor bgColor(255,255,255);
101 #if QT_VERSION < 0x040000
102     setPaletteBackgroundColor(bgColor);
103 #else
104     QPalette p = palette();
105     p.setColor(backgroundRole(), bgColor);
106     setPalette(p);
107 #endif
108 
110     // Set curve styles
111 
112     QPen *pen = new QPen(Qt::darkBlue);
113     pen->setWidth(2);
114     mgxPlot->setPen(*pen);
115 
116     QwtSplineCurveFitter *f = new QwtSplineCurveFitter();
117     f->setFitMode(QwtSplineCurveFitter::Spline);
118     mgxPlot->setCurveFitter(f);
119 
120     pen->setColor(Qt::darkMagenta);
121     mgxFilteredPlot->setPen(*pen);
122 
123     pen->setColor(Qt::red);
124     mgyPlot->setPen(*pen);
125     mgyPlot->setCurveFitter(f);
126 
127     pen->setColor(Qt::green);
128     AccyPlot->setPen(*pen);
129     AccyPlot->setCurveFitter(f);
130 
131     pen->setColor(Qt::darkGray);
132     AccxPlot->setPen(*pen);
133     AccxPlot->setCurveFitter(f);
134 
135     pen->setColor(Qt::yellow);
136     tempPlot->setPen(*pen);
137     tempPlot->setCurveFitter(f);
138 
139     pen->setColor(Qt::darkGreen);
140     irPlot->setPen(*pen);
141     irPlot->setCurveFitter(f);
142 
143     pen->setColor(Qt::magenta);
144     micPlot->setPen(*pen);
145     micPlot->setCurveFitter(f);
146 
147     pen->setColor(Qt::darkRed);
148     vlPlot->setPen(*pen);
149     vlPlot->setCurveFitter(f);
150 
151     // Attach (don't copy) data. Both curves use the same x array.
152     mgxPlot->setRawData(d_x, d_mgx, PLOT_SIZE);
153     mgxFilteredPlot->setRawData(d_x, d_fmgx, PLOT_SIZE);
154     mgyPlot->setRawData(d_x, d_mgy, PLOT_SIZE);
155     AccyPlot->setRawData(d_x, d_accy, PLOT_SIZE);
156     AccxPlot->setRawData(d_x, d_accx, PLOT_SIZE);
157     tempPlot->setRawData(d_x, d_temp, PLOT_SIZE);
158     irPlot->setRawData(d_x, d_ir, PLOT_SIZE);
159     micPlot->setRawData(d_x, d_mic, PLOT_SIZE);
160     vlPlot->setRawData(d_x, d_vl, PLOT_SIZE);
161 
162 #if 0
163     //  Insert zero line at y = 0
164     QwtPlotMarker *mY = new QwtPlotMarker();
165     mY->setLabelAlignment(Qt::AlignRight|Qt::AlignTop);
166     mY->setLineStyle(QwtPlotMarker::HLine);
167     mY->setYValue(0.0);
168     mY->attach(this);
169 #endif
170 
171     // Axis 
172     setAxisTitle(QwtPlot::xBottom, "Time/seconds");
173     setAxisScale(QwtPlot::xBottom, 0, 100);
174 
175     setAxisTitle(QwtPlot::yLeft, "Values");
176     setAxisScale(QwtPlot::yLeft, 0, 10);
177     
178     setTimerInterval(0.0); 
179 }
\end{DoxyCode}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=154pt]{classDataPlot_a1343acbd6095212532c4315d6e9f1711_cgraph}
\end{center}
\end{figure}




\subsection{Member Function Documentation}
\hypertarget{classDataPlot_a6409fa9685624b4a453529254e6d943f}{
\index{DataPlot@{DataPlot}!autoScale@{autoScale}}
\index{autoScale@{autoScale}!DataPlot@{DataPlot}}
\subsubsection[{autoScale}]{\setlength{\rightskip}{0pt plus 5cm}void DataPlot::autoScale ()\hspace{0.3cm}{\ttfamily  \mbox{[}slot\mbox{]}}}}
\label{classDataPlot_a6409fa9685624b4a453529254e6d943f}
Enables or disables autoscaling 

Definition at line 348 of file data\_\-plot.cpp.




\begin{DoxyCode}
349 {
350     if(auto_scale)
351         auto_scale = false;
352     else
353         auto_scale = true;
354 }
\end{DoxyCode}


\hypertarget{classDataPlot_a5521e1760646dbcf90df949e20523803}{
\index{DataPlot@{DataPlot}!detach@{detach}}
\index{detach@{detach}!DataPlot@{DataPlot}}
\subsubsection[{detach}]{\setlength{\rightskip}{0pt plus 5cm}void DataPlot::detach (int {\em item})\hspace{0.3cm}{\ttfamily  \mbox{[}slot\mbox{]}}}}
\label{classDataPlot_a5521e1760646dbcf90df949e20523803}
Slot for detaching a data type. 
\begin{DoxyParams}{Parameters}
\item[{\em item}]is from the enumeration defined in \hyperlink{data__plot_8h}{data\_\-plot.h} \end{DoxyParams}
\begin{DoxyNote}{Note}
This is actually a bad name. If the graph is already detached, it reattaches the graph. 
\end{DoxyNote}


Definition at line 226 of file data\_\-plot.cpp.




\begin{DoxyCode}
227 {
228     switch(item)
229     {
230     case MGX:
231         if(attached[MGX])
232         {
233             mgxPlot->detach();
234             attached[MGX] = false;
235         }
236         else
237         {
238             mgxPlot->attach(this);
239             attached[MGX] = true;
240         }
241         break;
242     case MGY:
243         if(attached[MGY])
244         {
245             mgyPlot->detach();
246             attached[MGY] = false;
247         }
248         else
249         {
250             mgyPlot->attach(this);
251             attached[MGY] = true;
252         }
253         break;
254     case ACCX:
255         if(attached[ACCX])
256         {
257             AccxPlot->detach();
258             attached[ACCX] = false;
259         }
260         else
261         {
262             AccxPlot->attach(this);
263             attached[ACCX] = true;
264         }
265         break;
266     case ACCY:
267         if(attached[ACCY])
268         {
269             AccyPlot->detach();
270             attached[ACCY] = false;
271         }
272         else
273         {
274             AccyPlot->attach(this);
275             attached[ACCY] = true;
276         }
277         break;
278     case TEMP:
279         if(attached[TEMP])
280         {
281             tempPlot->detach();
282             attached[TEMP] = false;
283         }
284         else
285         {
286             tempPlot->attach(this);
287             attached[TEMP] = true;
288         }
289         break;
290     case IR:
291         if(attached[IR])
292         {
293             irPlot->detach();
294             attached[IR] = false;
295         }
296         else
297         {
298             irPlot->attach(this);
299             attached[IR] = true;
300         }
301         break;
302     case VL:
303         if(attached[VL])
304         {
305             vlPlot->detach();
306             attached[VL] = false;
307         }
308         else
309         {
310             vlPlot->attach(this);
311             attached[VL] = true;
312         }
313         break;
314     case MIC:
315         if(attached[MIC])
316         {
317             micPlot->detach();
318             attached[MIC] = false;
319         }
320         else
321         {
322             micPlot->attach(this);
323             attached[MIC] = true;
324         }
325         break;
326     }
327 }
\end{DoxyCode}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=142pt]{classDataPlot_a5521e1760646dbcf90df949e20523803_icgraph}
\end{center}
\end{figure}


\hypertarget{classDataPlot_a5dbafea843c682d18d77e1903e3c372b}{
\index{DataPlot@{DataPlot}!detachAccx@{detachAccx}}
\index{detachAccx@{detachAccx}!DataPlot@{DataPlot}}
\subsubsection[{detachAccx}]{\setlength{\rightskip}{0pt plus 5cm}void DataPlot::detachAccx ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline, slot\mbox{]}}}}
\label{classDataPlot_a5dbafea843c682d18d77e1903e3c372b}
Slot for detaching ACCX 

Definition at line 87 of file data\_\-plot.h.




\begin{DoxyCode}
87 { detach(ACCX); }
\end{DoxyCode}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=141pt]{classDataPlot_a5dbafea843c682d18d77e1903e3c372b_cgraph}
\end{center}
\end{figure}


\hypertarget{classDataPlot_ab9a27391ec25592f1126f672716ab161}{
\index{DataPlot@{DataPlot}!detachAccy@{detachAccy}}
\index{detachAccy@{detachAccy}!DataPlot@{DataPlot}}
\subsubsection[{detachAccy}]{\setlength{\rightskip}{0pt plus 5cm}void DataPlot::detachAccy ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline, slot\mbox{]}}}}
\label{classDataPlot_ab9a27391ec25592f1126f672716ab161}
Slot for detaching ACCY 

Definition at line 90 of file data\_\-plot.h.




\begin{DoxyCode}
90 { detach(ACCY); }
\end{DoxyCode}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=141pt]{classDataPlot_ab9a27391ec25592f1126f672716ab161_cgraph}
\end{center}
\end{figure}


\hypertarget{classDataPlot_a63ee85d95a1ce9b0ac889ea16c4827c7}{
\index{DataPlot@{DataPlot}!detachIr@{detachIr}}
\index{detachIr@{detachIr}!DataPlot@{DataPlot}}
\subsubsection[{detachIr}]{\setlength{\rightskip}{0pt plus 5cm}void DataPlot::detachIr ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline, slot\mbox{]}}}}
\label{classDataPlot_a63ee85d95a1ce9b0ac889ea16c4827c7}
Slot for detaching IR 

Definition at line 93 of file data\_\-plot.h.




\begin{DoxyCode}
93 { detach(IR); }
\end{DoxyCode}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=133pt]{classDataPlot_a63ee85d95a1ce9b0ac889ea16c4827c7_cgraph}
\end{center}
\end{figure}


\hypertarget{classDataPlot_a74bc8f9c94caa90e092e1b3235c2c6ec}{
\index{DataPlot@{DataPlot}!detachMgx@{detachMgx}}
\index{detachMgx@{detachMgx}!DataPlot@{DataPlot}}
\subsubsection[{detachMgx}]{\setlength{\rightskip}{0pt plus 5cm}void DataPlot::detachMgx ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline, slot\mbox{]}}}}
\label{classDataPlot_a74bc8f9c94caa90e092e1b3235c2c6ec}
Slot for detaching MGx 

Definition at line 81 of file data\_\-plot.h.




\begin{DoxyCode}
81 { detach(MGX); }
\end{DoxyCode}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=139pt]{classDataPlot_a74bc8f9c94caa90e092e1b3235c2c6ec_cgraph}
\end{center}
\end{figure}


\hypertarget{classDataPlot_a309a9e4dc84f977bc54f30d0e2cf2350}{
\index{DataPlot@{DataPlot}!detachMgy@{detachMgy}}
\index{detachMgy@{detachMgy}!DataPlot@{DataPlot}}
\subsubsection[{detachMgy}]{\setlength{\rightskip}{0pt plus 5cm}void DataPlot::detachMgy ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline, slot\mbox{]}}}}
\label{classDataPlot_a309a9e4dc84f977bc54f30d0e2cf2350}
Slot for detaching MGy 

Definition at line 84 of file data\_\-plot.h.




\begin{DoxyCode}
84 { detach(MGY); }
\end{DoxyCode}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=139pt]{classDataPlot_a309a9e4dc84f977bc54f30d0e2cf2350_cgraph}
\end{center}
\end{figure}


\hypertarget{classDataPlot_a42a2f46b248f64482153739201fc7d2b}{
\index{DataPlot@{DataPlot}!detachMic@{detachMic}}
\index{detachMic@{detachMic}!DataPlot@{DataPlot}}
\subsubsection[{detachMic}]{\setlength{\rightskip}{0pt plus 5cm}void DataPlot::detachMic ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline, slot\mbox{]}}}}
\label{classDataPlot_a42a2f46b248f64482153739201fc7d2b}
Slot for detaching MIC 

Definition at line 102 of file data\_\-plot.h.




\begin{DoxyCode}
102 { detach(MIC); }
\end{DoxyCode}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=138pt]{classDataPlot_a42a2f46b248f64482153739201fc7d2b_cgraph}
\end{center}
\end{figure}


\hypertarget{classDataPlot_a21893fd1f06b11e7e3286fa74e8c618f}{
\index{DataPlot@{DataPlot}!detachTemp@{detachTemp}}
\index{detachTemp@{detachTemp}!DataPlot@{DataPlot}}
\subsubsection[{detachTemp}]{\setlength{\rightskip}{0pt plus 5cm}void DataPlot::detachTemp ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline, slot\mbox{]}}}}
\label{classDataPlot_a21893fd1f06b11e7e3286fa74e8c618f}
Slot for detaching Temp 

Definition at line 96 of file data\_\-plot.h.




\begin{DoxyCode}
96 { detach(TEMP); }
\end{DoxyCode}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=142pt]{classDataPlot_a21893fd1f06b11e7e3286fa74e8c618f_cgraph}
\end{center}
\end{figure}


\hypertarget{classDataPlot_ad350cafabb24a175222744f7c7b3e10e}{
\index{DataPlot@{DataPlot}!detachVl@{detachVl}}
\index{detachVl@{detachVl}!DataPlot@{DataPlot}}
\subsubsection[{detachVl}]{\setlength{\rightskip}{0pt plus 5cm}void DataPlot::detachVl ()\hspace{0.3cm}{\ttfamily  \mbox{[}inline, slot\mbox{]}}}}
\label{classDataPlot_ad350cafabb24a175222744f7c7b3e10e}
Slot for detaching VL 

Definition at line 99 of file data\_\-plot.h.




\begin{DoxyCode}
99 { detach(VL); }
\end{DoxyCode}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=134pt]{classDataPlot_ad350cafabb24a175222744f7c7b3e10e_cgraph}
\end{center}
\end{figure}


\hypertarget{classDataPlot_a78920a414abdfa954fd34c662f39d09e}{
\index{DataPlot@{DataPlot}!disconnected@{disconnected}}
\index{disconnected@{disconnected}!DataPlot@{DataPlot}}
\subsubsection[{disconnected}]{\setlength{\rightskip}{0pt plus 5cm}void DataPlot::disconnected ()\hspace{0.3cm}{\ttfamily  \mbox{[}slot\mbox{]}}}}
\label{classDataPlot_a78920a414abdfa954fd34c662f39d09e}
Slot for notifying the datagraph that it's been disconnected from the packet source 

Definition at line 198 of file data\_\-plot.cpp.




\begin{DoxyCode}
199 {
200       // This happens when we get disconnected from the packetHandler
201       running = false;
202 }
\end{DoxyCode}


\hypertarget{classDataPlot_a36fe7e25f67a168d4f7dd2eaa2627003}{
\index{DataPlot@{DataPlot}!newReading@{newReading}}
\index{newReading@{newReading}!DataPlot@{DataPlot}}
\subsubsection[{newReading}]{\setlength{\rightskip}{0pt plus 5cm}void DataPlot::newReading ({\bf MoteReading} {\em r})\hspace{0.3cm}{\ttfamily  \mbox{[}slot\mbox{]}}}}
\label{classDataPlot_a36fe7e25f67a168d4f7dd2eaa2627003}
Slot for informing the graph of a new reading 
\begin{DoxyParams}{Parameters}
\item[{\em r}]The new mote reading \end{DoxyParams}


Definition at line 343 of file data\_\-plot.cpp.




\begin{DoxyCode}
344 {
345     currentReading = r;
346 }
\end{DoxyCode}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=149pt]{classDataPlot_a36fe7e25f67a168d4f7dd2eaa2627003_icgraph}
\end{center}
\end{figure}


\hypertarget{classDataPlot_abc77f48da64170d587eda09e5aaf008c}{
\index{DataPlot@{DataPlot}!reRange@{reRange}}
\index{reRange@{reRange}!DataPlot@{DataPlot}}
\subsubsection[{reRange}]{\setlength{\rightskip}{0pt plus 5cm}void DataPlot::reRange ()\hspace{0.3cm}{\ttfamily  \mbox{[}slot\mbox{]}}}}
\label{classDataPlot_abc77f48da64170d587eda09e5aaf008c}
Resets the viewing window of the graph 

Definition at line 181 of file data\_\-plot.cpp.




\begin{DoxyCode}
182 {
183     setAxisScale(QwtPlot::yLeft, min, max);
184 }
\end{DoxyCode}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=141pt]{classDataPlot_abc77f48da64170d587eda09e5aaf008c_icgraph}
\end{center}
\end{figure}


\hypertarget{classDataPlot_ab6af06dfac3585a7dc669ea333a0869d}{
\index{DataPlot@{DataPlot}!setId@{setId}}
\index{setId@{setId}!DataPlot@{DataPlot}}
\subsubsection[{setId}]{\setlength{\rightskip}{0pt plus 5cm}void DataPlot::setId (int {\em i})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classDataPlot_ab6af06dfac3585a7dc669ea333a0869d}
Sets the dataGraph's id. Used to demultiplex mote readings. 
\begin{DoxyParams}{Parameters}
\item[{\em i}]\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 45 of file data\_\-plot.h.




\begin{DoxyCode}
45 { id = i; setTitle(QString("Sensors for Node %1").arg(id)); }
\end{DoxyCode}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=133pt]{classDataPlot_ab6af06dfac3585a7dc669ea333a0869d_icgraph}
\end{center}
\end{figure}


\hypertarget{classDataPlot_ad101ac80563ee10322788946d791ea09}{
\index{DataPlot@{DataPlot}!setMinRange@{setMinRange}}
\index{setMinRange@{setMinRange}!DataPlot@{DataPlot}}
\subsubsection[{setMinRange}]{\setlength{\rightskip}{0pt plus 5cm}void DataPlot::setMinRange (double {\em range})\hspace{0.3cm}{\ttfamily  \mbox{[}slot\mbox{]}}}}
\label{classDataPlot_ad101ac80563ee10322788946d791ea09}
Slot for setting the lower range of the graph 
\begin{DoxyParams}{Parameters}
\item[{\em range}]is the lower bound of the viewing window \end{DoxyParams}


\begin{DoxyNote}{Note}
Old Bug: Qt Doesn't capture this event for some reason. Fixed this bug. 
\end{DoxyNote}




Definition at line 191 of file data\_\-plot.cpp.




\begin{DoxyCode}
192 {
194     min = (int) range;
195     setAxisScale(QwtPlot::yLeft,min, max);
196 }
\end{DoxyCode}


\hypertarget{classDataPlot_a642185fdad89b1b075bc00670242fa0b}{
\index{DataPlot@{DataPlot}!setRange@{setRange}}
\index{setRange@{setRange}!DataPlot@{DataPlot}}
\subsubsection[{setRange}]{\setlength{\rightskip}{0pt plus 5cm}void DataPlot::setRange (double {\em range})\hspace{0.3cm}{\ttfamily  \mbox{[}slot\mbox{]}}}}
\label{classDataPlot_a642185fdad89b1b075bc00670242fa0b}
Slot for setting the upper range of the graph 
\begin{DoxyParams}{Parameters}
\item[{\em range}]The upper bound of the viewing window \end{DoxyParams}


Definition at line 186 of file data\_\-plot.cpp.




\begin{DoxyCode}
187 {
188     max = (int) range;
189     setAxisScale(QwtPlot::yLeft, min, max);
190 }
\end{DoxyCode}


\hypertarget{classDataPlot_aace03b9e68e11042c0fade588e2869a7}{
\index{DataPlot@{DataPlot}!setSource@{setSource}}
\index{setSource@{setSource}!DataPlot@{DataPlot}}
\subsubsection[{setSource}]{\setlength{\rightskip}{0pt plus 5cm}void DataPlot::setSource ({\bf packetHandler} $\ast$ {\em p})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classDataPlot_aace03b9e68e11042c0fade588e2869a7}
Mutator for packetHander Use this to set the \hyperlink{classpacketHandler}{packetHandler} (server) for this plot 
\begin{DoxyParams}{Parameters}
\item[{\em p}]Pointer to the \hyperlink{classpacketHandler}{packetHandler} \end{DoxyParams}


Definition at line 51 of file data\_\-plot.h.




\begin{DoxyCode}
51 { mySource = p; running = true; }
\end{DoxyCode}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=155pt]{classDataPlot_aace03b9e68e11042c0fade588e2869a7_icgraph}
\end{center}
\end{figure}


\hypertarget{classDataPlot_a926020e0c49d78d3d5d282848368651e}{
\index{DataPlot@{DataPlot}!setTimerInterval@{setTimerInterval}}
\index{setTimerInterval@{setTimerInterval}!DataPlot@{DataPlot}}
\subsubsection[{setTimerInterval}]{\setlength{\rightskip}{0pt plus 5cm}void DataPlot::setTimerInterval (double {\em interval})\hspace{0.3cm}{\ttfamily  \mbox{[}slot\mbox{]}}}}
\label{classDataPlot_a926020e0c49d78d3d5d282848368651e}
Slot for changing the timer frequency 
\begin{DoxyParams}{Parameters}
\item[{\em interval}]The frequency of sampling \end{DoxyParams}


\begin{DoxyRemark}{Remarks}
Units are in ms 
\end{DoxyRemark}




Definition at line 329 of file data\_\-plot.cpp.




\begin{DoxyCode}
330 {
332     d_interval = qRound(ms);
333 
334     if ( d_timerId >= 0 )
335     {
336         killTimer(d_timerId);
337         d_timerId = -1;
338     }
339     if (d_interval >= 0 )
340         d_timerId = startTimer(d_interval);
341 }
\end{DoxyCode}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=154pt]{classDataPlot_a926020e0c49d78d3d5d282848368651e_icgraph}
\end{center}
\end{figure}


\hypertarget{classDataPlot_a41c9c4bc12d8d3e3abdf893c4fcfad7b}{
\index{DataPlot@{DataPlot}!timerEvent@{timerEvent}}
\index{timerEvent@{timerEvent}!DataPlot@{DataPlot}}
\subsubsection[{timerEvent}]{\setlength{\rightskip}{0pt plus 5cm}void DataPlot::timerEvent (QTimerEvent $\ast$ {\em e})\hspace{0.3cm}{\ttfamily  \mbox{[}protected, virtual\mbox{]}}}}
\label{classDataPlot_a41c9c4bc12d8d3e3abdf893c4fcfad7b}
Timer event function

\begin{DoxyRemark}{Remarks}
This gets called to update the graph. 
\end{DoxyRemark}


\begin{Desc}
\item[\hyperlink{todo__todo000002}{Todo}]Make this scale more intelligently. \end{Desc}




Definition at line 357 of file data\_\-plot.cpp.




\begin{DoxyCode}
358 {
359     if(!running)
360         return;
361 
362     // Get new reading
363     this->newReading(mySource->getReading(this->id));
364 
365         for ( int j = 0; j < PLOT_SIZE - 1; j++ )
366         {
367             d_mgx[j] = d_mgx[j+1];
368             d_fmgx[j] = d_fmgx[j+1];
369             d_mgy[j] = d_mgy[j+1];
370             d_accx[j] = d_accx[j+1];
371             d_accy[j] = d_accy[j+1];
372             d_temp[j] = d_temp[j+1];
373             d_ir[j] = d_ir[j+1];
374             d_mic[j] = d_mic[j+1];
375             d_vl[j] = d_vl[j+1];
376         }
377 
378 
379         d_mgx[PLOT_SIZE -1] = currentReading.getMgx();
380         d_fmgx[PLOT_SIZE -1] = filter->getFilteredData(currentReading.getSeq(),(d
      ouble) currentReading.getMgx());
381         d_mgy[PLOT_SIZE -1] = currentReading.getMgy();
382         d_accx[PLOT_SIZE -1] = currentReading.getAccx();
383         d_accy[PLOT_SIZE -1] = currentReading.getAccy();
384         d_temp[PLOT_SIZE -1] = currentReading.getTemp();
385         d_ir[PLOT_SIZE -1] = currentReading.getIr();
386         d_mic[PLOT_SIZE -1] = currentReading.getMic();
387         d_vl[PLOT_SIZE -1] = currentReading.getVl();
388 
390         if(auto_scale)
391         {
392             if(attached[MGX])
393             {
394                 if(currentReading.getMgx() > max)
395                 {
396                     max = currentReading.getMgx();
397                 }
398                 if(currentReading.getMgx() < min)
399                 {
400                     min = currentReading.getMgx();
401                 }
402             }
403             if(attached[MGY])
404             {
405                 if(currentReading.getMgy() > max)
406                 {
407                     max = currentReading.getMgy();
408                 }
409                 if(currentReading.getMgy() < min)
410                 {
411                     min = currentReading.getMgy();
412                 }
413             }
414             if(attached[ACCX])
415             {
416                 if(currentReading.getAccx() > max)
417                 {
418                     max = currentReading.getAccx();
419                 }
420                 if(currentReading.getAccx() < min)
421                 {
422                     min = currentReading.getAccx();
423                 }
424             }
425             if(attached[ACCY])
426             {
427                 if(currentReading.getAccy() > max)
428                 {
429                     max = currentReading.getAccy();
430                 }
431                 if(currentReading.getAccy() < min)
432                 {
433                     min = currentReading.getAccy();
434                 }
435             }
436             if(attached[TEMP])
437             {
438                 if(currentReading.getTemp() > max)
439                 {
440                     max = currentReading.getTemp();
441                 }
442                 if(currentReading.getTemp() < min)
443                 {
444                     min = currentReading.getTemp();
445                 }
446             }
447             if(attached[IR])
448             {
449                 if(currentReading.getIr() > max)
450                 {
451                     max = currentReading.getIr();
452                 }
453                 if(currentReading.getIr() < min)
454                 {
455                     min = currentReading.getIr();
456                 }
457             }
458             if(attached[VL])
459             {
460                 if(currentReading.getVl() > max)
461                 {
462                     max = currentReading.getVl();
463                 }
464                 if(currentReading.getVl() < min)
465                 {
466                     min = currentReading.getVl();
467                 }
468             }
469             if(attached[MIC])
470             {
471                 if(currentReading.getMic() > max)
472                 {
473                     max = currentReading.getMic();
474                 }
475                 if(currentReading.getMic() < min)
476                 {
477                     min = currentReading.getMic();
478                 }
479             }
480 
481             reRange();
482         }
483        // update the display
484     replot();
485 
486     }
\end{DoxyCode}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=160pt]{classDataPlot_a41c9c4bc12d8d3e3abdf893c4fcfad7b_cgraph}
\end{center}
\end{figure}




The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
\hyperlink{data__plot_8h}{data\_\-plot.h}\item 
\hyperlink{data__plot_8cpp}{data\_\-plot.cpp}\end{DoxyCompactItemize}
